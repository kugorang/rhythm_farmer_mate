# RhythmFarmerMate (리듬농부 메이트)
2025-1 경희대학교 khuthon "심건우" 팀

![리듬농부 메이트 로고](assets/images/logo.png)

## 개요

리듬농부 메이트는 전통적인 노동요를 활용하여 작업 효율과 즐거움을 높이는 Flutter 웹앱입니다. 농업 및 다양한 작업 환경에서 리듬과 타이머로 능률을 향상시키고, 전통 농요를 현대적으로 재해석하여 제공합니다.

### 프로젝트 배경 및 목표

이 프로젝트는 경희대학교 해커톤 "농업의 기술화" 주제에서 착안했습니다. 전통 노동요는 과거 농부들이 일할 때 피로를 잊고 작업 능률을 높이기 위해 불렀던 민요입니다. 리듬농부 메이트는 이 전통을 현대적으로 계승하여:

- 50대 이상 농부들도 쉽게 사용할 수 있는 직관적인 UI 제공
- 전통 노동요의 가치를 현대 작업 환경에 접목
- 작업 리듬과 효율을 높이는 타이머 및 도전 과제 시스템 구현
- 농업 노동의 즐거움과 효율성을 동시에 추구

을 목표로 합니다.

## 주요 기능

- **노동요 재생**: 전통 농요와 현대 노동요를 선택하여 재생
- **작업 타이머**: 포모도로 기법 기반 작업/휴식 타이머 제공
- **재생 속도 조절**: 0.5x, 1.0x, 1.5x 속도로 노래 속도 조절
- **유튜브 노동요**: 유튜브 URL로 나만의 노동요 추가
- **재생 목록 관리**: 노래 순서 변경 및 재생 목록 관리
- **재생 모드**: 단일 재생, 한 곡 반복, 전체 재생, 랜덤 재생 지원
- **BPM 리듬**: 노래의 BPM에 맞춘 시각적 리듬 표시
- **로컬 저장**: 추가한 노래와 재생 목록을 브라우저에 저장

## 시연

[https://kugorang.github.io/rhythm_farmer_mate](https://kugorang.github.io/rhythm_farmer_mate)

## 설치 및 실행 방법

### 요구사항
- Flutter 3.0 이상
- Dart 2.17 이상
- Chrome 웹 브라우저 (웹 배포용)

### 로컬 개발 환경에서 실행하기
1. 저장소 클론
```bash
git clone https://github.com/sim-geunwoo/rhythm_farmer_mate.git
cd rhythm_farmer_mate
```

2. 의존성 설치
```bash
flutter pub get
```

3. 웹 빌드 실행
```bash
flutter run -d chrome
```

### 웹 배포 빌드
```bash
flutter build web
```
빌드된 파일은 `build/web` 디렉토리에 생성됩니다.

## 사용 예시

### 노동요 듣기
1. 메인 화면에서 원하는 카테고리("논농사", "밭농사" 등)를 선택합니다.
2. 재생 목록에서 듣고 싶은 노동요를 선택합니다.
3. 재생 버튼을 눌러 노동요를 재생합니다.
4. 원하는 재생 모드(반복, 전체, 랜덤)를 선택할 수 있습니다.

### 작업 타이머 사용하기
1. 노래 재생 화면에서 타이머 버튼을 누릅니다.
2. 원하는 작업 시간을 설정합니다 (기본값: 25분).
3. "작업 시작하기" 버튼을 누르면 타이머와 함께 노동요가 재생됩니다.
4. 작업 시간이 끝나면 알림음과 함께 휴식 시간이 시작됩니다.

### 나만의 노동요 추가하기
1. "+" 버튼을 눌러 새 노래 추가 화면으로 이동합니다.
2. 유튜브 URL을 입력하거나 기기에서 음악 파일을 선택합니다.
3. 노래 제목과 아티스트를 입력하고 저장합니다.
4. 추가된 노래는 "내 노래" 카테고리에서 확인할 수 있습니다.

## 기술 스택

- **프레임워크**: Flutter 3.x
- **언어**: Dart 2.17+
- **상태 관리**: StatefulWidget, ChangeNotifier
- **데이터 저장**: Hive (브라우저 IndexedDB 기반)
- **UI 라이브러리**: shadcn_ui
- **오디오 재생**: just_audio
- **비디오 재생**: youtube_player_iframe

## 프로젝트 구조

```
lib/
├── main.dart           # 앱 진입점 및 Hive 초기화
├── my_app.dart         # 앱 구성 및 테마
├── models/             # 데이터 모델
│   ├── song.dart       # 노래 데이터 모델
│   └── song_category.dart # 노래 카테고리 모델
├── screens/            # 화면 UI
│   ├── category_selection_screen.dart # 카테고리 선택 화면
│   └── my_home_page.dart          # 음악 재생 화면
├── services/           # 비즈니스 로직
│   ├── audio_service.dart     # 오디오 재생 서비스
│   └── user_song_service.dart # 사용자 노래 관리 서비스
└── widgets/            # UI 위젯 컴포넌트
    ├── home_content_widget.dart  # 홈 화면 컨텐츠
    ├── playback_mode_control_widget.dart # 재생 모드 제어
    └── ...
```

## 사용된 음원 정보

*   `assets/audio/se0101.mp3`: 논삶는소리 (강원 홍천군)
*   `assets/audio/se0102.mp3`: 논고르는소리 (제주 서귀포시)
*   `assets/audio/se0103.mp3`: 모찌는소리-'얼른 하더니 한 춤' (강원 양양군)
*   `assets/audio/se0104.mp3`: 모찌는소리-'뭉치세 제치세' (충북 진천군)
*   `assets/audio/se0201.mp3`: 논매는소리-'헤헤 곯었네' (경기 안성군)
*   `assets/audio/se0202.mp3`: 논매는소리-대허리 (경기 이천군)
*   `assets/audio/se0203.mp3`: 논매는소리-오독떼기 (강원 양양군)
*   `assets/audio/se0204.mp3`: 논매는소리-'얼카 덩어리' (충남 홍성군)
*   `assets/audio/se0301.mp3`: 논매는소리-긴소리/들래기소리 (전남 무안군)
*   `assets/audio/se0302.mp3`: 논매는소리-소오니소리 (경북 구미시)
*   `assets/audio/se0303.mp3`: 논매는소리 (경북 예천군)
*   `assets/audio/se0304.mp3`: 농사장원례소리-애롱대롱 (전남 나주군)
*   `assets/audio/se0401.mp3`: 밭가는소리 (강원 홍천군)
*   `assets/audio/se0402.mp3`: 밭일구는소리(따비질) (제주 북제주군)
*   `assets/audio/se0403.mp3`: 밭고르는소리(곰방메질) (제주 북제주군)
*   `assets/audio/se0404.mp3`: 밭밟는소리 (제주 북제주군)

## 실행 환경
- PC 웹 브라우저
- 모바일 웹 브라우저 (반응형 UI)
- 웹 앱으로 설치하여 사용 가능 (PWA 지원)

## 문제 해결 및 FAQ

### 자주 묻는 질문

**Q: 앱이 오프라인에서도 작동하나요?**
A: 네, 한 번 로드된 후에는 오프라인에서도 사용 가능합니다. 단, 유튜브 영상은 인터넷 연결이 필요합니다.

**Q: 내가 추가한 노래가 브라우저를 닫으면 사라집니다.**
A: 브라우저의 쿠키나 로컬 스토리지를 지우면 저장된 데이터가 삭제될 수 있습니다. 중요한 재생목록은 백업하는 것을 권장합니다.

**Q: 모바일에서 배경 재생이 되지 않습니다.**
A: 모바일 브라우저의 정책상 배경 재생에 제한이 있습니다. 웹앱으로 설치하여 사용하면 일부 기기에서 개선될 수 있습니다.

### 일반적인 문제 해결

1. **앱이 로드되지 않는 경우**
   - 최신 버전의 Chrome, Firefox, Safari 브라우저를 사용해보세요.
   - 브라우저 캐시를 삭제해보세요.

2. **오디오가 재생되지 않는 경우**
   - 브라우저 설정에서 소리 권한이 허용되어 있는지 확인하세요.
   - 다른 탭에서 오디오가 재생 중인지 확인하세요.

3. **유튜브 영상이 로드되지 않는 경우**
   - 인터넷 연결을 확인하세요.
   - 유튜브 URL이 올바른 형식인지 확인하세요(단축 URL이 아닌 전체 URL 권장).

## 기여 방법

리듬농부 메이트 프로젝트에 기여하고 싶으시다면:

1. 이슈 트래커를 통해 버그 보고 또는 기능 제안
2. 프로젝트 포크 후 기능 개발 및 풀 리퀘스트 제출
3. 코드 리뷰 및 피드백 반영
4. 문서화 개선 및 번역 작업

모든 기여자는 프로젝트의 [행동 강령](CODE_OF_CONDUCT.md)을 준수해야 합니다.

## 개발자

- 심건우 (팀장/개발/UI 설계/디자인/UX/컨텐츠)

## 향후 로드맵

- [ ] 복합 타이머 기능 (다양한 작업-휴식 사이클)
- [ ] 농사 작업별 맞춤 노동요 추천 시스템
- [ ] 작업 기록 및 통계 대시보드
- [ ] 다국어 지원 (영어, 중국어)
- [ ] 오프라인 모드 강화

---
*This project was bootstrapped with Flutter.*
